<Window x:Class="Monitorian.Core.Views.MenuWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
		xmlns:behaviors="clr-namespace:Monitorian.Core.Views.Behaviors"
		xmlns:models="clr-namespace:Monitorian.Core.Models"
		xmlns:properties="clr-namespace:Monitorian.Core.Properties"
		Width="200"
		ResizeMode="NoResize" SizeToContent="WidthAndHeight"
		ShowInTaskbar="False" Topmost="True"
		AllowsTransparency="True" WindowStyle="None"
		Background="{StaticResource App.Background.Plain}">
	<Window.InputBindings>
		<KeyBinding Command="ApplicationCommands.Close" Key="Esc"/>
	</Window.InputBindings>
	<Window.CommandBindings>
		<CommandBinding Command="ApplicationCommands.Close" Executed="OnDeactivated"/>
	</Window.CommandBindings>

	<StackPanel Margin="0,4">
		<TextBlock x:Name="AppTitle"
				   Margin="8,2"
				   Style="{StaticResource PlainTextStyle}"
				   Text="{Binding Source={x:Static models:ProductInfo.Title}, Mode=OneTime}"/>

		<StackPanel x:Name="HeadItems"
					Margin="0,0,0,6">
			<TextBlock Margin="8,0"
					   Style="{StaticResource PlainTextStyle}">
				<Run Text="{Binding Source={x:Static models:ProductInfo.Version}, Mode=OneTime}"/>
				<Run Text="|"/>
				<Run Foreground="{StaticResource App.Foreground.Shadow}"
					 TextDecorations="Underline" Cursor="Hand"
					 Text="{x:Static properties:Invariant.Site}">
					<i:Interaction.Triggers>
						<i:EventTrigger EventName="MouseDown">
							<i:LaunchUriOrFileAction Path="{x:Static models:ProductInfo.ProjectUrl}"/>
						</i:EventTrigger>
					</i:Interaction.Triggers>
				</Run>
				<Run Text="|"/>
				<Run Foreground="{StaticResource App.Foreground.Shadow}"
					 TextDecorations="Underline" Cursor="Hand"
					 Text="{x:Static properties:Invariant.License}">
					<i:Interaction.Triggers>
						<i:EventTrigger EventName="MouseDown">
							<i:CallMethodAction TargetObject="{Binding}"
												MethodName="OpenLicense"/>
						</i:EventTrigger>
					</i:Interaction.Triggers>
				</Run>
			</TextBlock>
		</StackPanel>

		<Separator Style="{StaticResource MenuSeparatorStyle}"/>

		<StackPanel x:Name="MenuItemsTop"/>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.StartSignIn}"
						  IsChecked="{Binding IsRegistered}"
						  Visibility="{Binding CanRegister, Mode=OneTime, Converter={StaticResource BooleanToVisibilityConverterKey}}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.UseLargeElements}"
						  IsChecked="{Binding Settings.UsesLargeElements}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}"
						Visibility="{Binding IsAccentColorSupported, Converter={StaticResource BooleanToVisibilityConverterKey}}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.UseAccentColor}"
						  IsChecked="{Binding Settings.UsesAccentColor}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.ShowAdjusted}"
						  IsChecked="{Binding Settings.ShowsAdjusted}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.OrderArrangement}"
						  IsChecked="{Binding Settings.OrdersArrangement}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.DeferChange}"
						  IsChecked="{Binding Settings.DefersChange}"/>
		</ContentControl>

		<StackPanel x:Name="MenuItemsMiddle"/>

		<Separator Style="{StaticResource MenuSeparatorStyle}"/>

		<!-- Brightness Hotkeys -->
		<ContentControl Style="{StaticResource MenuItemStyle}">
			<StackPanel Orientation="Vertical" Margin="8,4">
				<TextBlock Style="{StaticResource PlainTextStyle}" Text="Brightness Down Hotkey"/>
				<StackPanel Orientation="Horizontal">
					<TextBox Width="120" IsReadOnly="True"
							 Text="{Binding Settings.BrightnessDecreaseHotkey, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
					<Button Content="Change" Padding="6,2" Margin="6,0,0,0" Click="OnChangeBrightnessDownHotkey"/>
					<Button Content="Reset" Padding="6,2" Margin="6,0,0,0" Click="OnResetBrightnessDownHotkey"/>
				</StackPanel>
				<!-- Dropdown picker: modifier + modifier + key -->
				<StackPanel Orientation="Horizontal" Margin="0,6,0,0">
					<ComboBox x:Name="DecreaseMod1" Width="80" SelectionChanged="OnDecreaseDropdownChanged"/>
					<TextBlock Text="+" VerticalAlignment="Center" Margin="6,0"/>
					<ComboBox x:Name="DecreaseMod2" Width="80" SelectionChanged="OnDecreaseDropdownChanged"/>
					<TextBlock Text="+" VerticalAlignment="Center" Margin="6,0"/>
					<ComboBox x:Name="DecreaseKeyCombo" Width="120" SelectionChanged="OnDecreaseDropdownChanged"/>
				</StackPanel>
			</StackPanel>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<StackPanel Orientation="Vertical" Margin="8,4">
				<TextBlock Style="{StaticResource PlainTextStyle}" Text="Brightness Up Hotkey"/>
				<StackPanel Orientation="Horizontal">
					<TextBox Width="120" IsReadOnly="True"
							 Text="{Binding Settings.BrightnessIncreaseHotkey, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
					<Button Content="Change" Padding="6,2" Margin="6,0,0,0" Click="OnChangeBrightnessUpHotkey"/>
					<Button Content="Reset" Padding="6,2" Margin="6,0,0,0" Click="OnResetBrightnessUpHotkey"/>
				</StackPanel>
				<!-- Dropdown picker: modifier + modifier + key -->
				<StackPanel Orientation="Horizontal" Margin="0,6,0,0">
					<ComboBox x:Name="IncreaseMod1" Width="80" SelectionChanged="OnIncreaseDropdownChanged"/>
					<TextBlock Text="+" VerticalAlignment="Center" Margin="6,0"/>
					<ComboBox x:Name="IncreaseMod2" Width="80" SelectionChanged="OnIncreaseDropdownChanged"/>
					<TextBlock Text="+" VerticalAlignment="Center" Margin="6,0"/>
					<ComboBox x:Name="IncreaseKeyCombo" Width="120" SelectionChanged="OnIncreaseDropdownChanged"/>
				</StackPanel>
			</StackPanel>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.EnableUnison}"
						  IsChecked="{Binding Settings.EnablesUnison}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.EnableRange}"
						  IsChecked="{Binding Settings.EnablesRange}"/>
		</ContentControl>

		<ContentControl Style="{StaticResource MenuItemStyle}">
			<ToggleButton Padding="8,4"
						  Style="{StaticResource CheckButtonItemStyle}"
						  Content="{x:Static properties:Resources.EnableContrast}"
						  IsChecked="{Binding Settings.EnablesContrast}"/>
		</ContentControl>

		<Separator Style="{StaticResource MenuSeparatorStyle}"/>

		<!-- Close -->
		<ContentControl Style="{StaticResource MenuItemStyle}">
			<Button Padding="8,4"
					Style="{StaticResource CloseButtonItemStyle}"
					Content="{x:Static properties:Resources.Close}">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<i:CallMethodAction TargetObject="{Binding}"
											MethodName="CloseApp"/>
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>
		</ContentControl>
	</StackPanel>

	<i:Interaction.Behaviors>
		<behaviors:FocusMenuBehavior/>
	</i:Interaction.Behaviors>
</Window>